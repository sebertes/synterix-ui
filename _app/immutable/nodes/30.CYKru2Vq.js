import"../chunks/CWj6FrbW.js";import{p as B,s as h,a as D,h as G,u as J,e as n,f as K,g as a,d as s,b as L,c as C,r as i,t as N,n as F}from"../chunks/QwNgEtIe.js";import{s as O}from"../chunks/DGaM1_9x.js";import{i as Q}from"../chunks/B8P2podd.js";import{t as w,a as k}from"../chunks/DU17d604.js";import{d as R}from"../chunks/BUwIoTEU.js";import{b as T}from"../chunks/Dric7B_l.js";import{I as S}from"../chunks/QehizvcT.js";import{F as W}from"../chunks/BiDRsquW.js";import{p as X,e as Y,o as x,S as Z,f as H}from"../chunks/DPTXRTMs.js";import{t as ee}from"../chunks/YCu01eox.js";import{C as ae}from"../chunks/BENrx8rE.js";import{C as te}from"../chunks/Cpp2hBeD.js";var re=w('<div class="banner error"> </div>'),se=w('<div class="title svelte-is088f"><a href="/dashboard">Home:</a> Create Edge</div> <div class="line svelte-is088f"></div> <div class="sub-title svelte-is088f">Edge Cluster Info</div> <div class="row svelte-is088f"><!> <!></div> <!>',1),ie=(I,c)=>c(),oe=w('<div class="top svelte-is088f"><!> <div class="buttons svelte-is088f"><div class="btn-group"><a class="btn" href="/dashboard"><!> Cancel</a> <button class="btn"><!> Create</button></div></div></div>');function Ce(I,c){B(c,!0);let l=h(D({})),v=null,m=h(!1),y=h("");async function M(){let{result:e,message:o}=await v.validate();if(C(m,!e),C(y,o,!0),a(m))return;let d=await v.getValue(),{code:t,msg:p}=await Y.post({id:a(f).id,...d});t===0?await x.redirect("/dashboard"):ee.error(p)}let f=G(()=>{let e={};return X.url.search.substring(1).split("&").forEach(o=>{let[d,t]=o.split("=");e[d]=t}),e});J(()=>{a(f).id?Z.keep(H).done(()=>{let e=(H.data||[]).find(o=>o.id===a(f).id/1);e?C(l,e,!0):x.redirect("/dashboard")}):x.redirect("/dashboard")});var u=oe(),E=s(u);T(W(E,{children:(e,o)=>{var d=se(),t=n(K(d),6),p=s(t);S(p,{name:"name",label:"name",placeholder:"input username",get value(){return a(l).name},set value(r){a(l).name=r}});var j=n(p,2);S(j,{name:"description",label:"description",placeholder:"input username",get value(){return a(l).description},set value(r){a(l).description=r}}),i(t);var q=n(t,2);{var z=r=>{var g=re(),A=s(g,!0);i(g),N(()=>O(A,a(y))),k(r,g)};Q(q,r=>{a(m)&&r(z)})}k(e,d)},$$slots:{default:!0}}),e=>v=e,()=>v);var $=n(E,2),P=s($),_=s(P),U=s(_);ae(U),F(),i(_);var b=n(_,2);b.__click=[ie,M];var V=s(b);te(V),F(),i(b),i(P),i($),i(u),k(I,u),L()}R(["click"]);export{Ce as component};
